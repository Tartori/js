function Char(value) {
  this.value = value;
}

function SingleLineChar(value, string) {
  Char.call(this, value);
  this.string = string;
}

function MultiLineChar(value, lines) {
  Char.call(this, value);
  this.lines = lines;
}

function Font(name, chars, lineheight) {
  this.name = name;
  this.lineheight = lineheight || 1;
  this.alphabet = Object.create(null);
  self = this;
  chars.forEach((item, index) => {
    self.alphabet[item.value] = item;
  });
}

Font.prototype.render = function (text) {
  var line = "";
  for (var i = 0; i < this.lineheight; i++) {
    if (i) {
      line += "\n";
    }
    for (var j in text) {
      var char = text[j];
      line += this.renderChar(char, i);
    }
  }
  return line;
}

Font.prototype.renderChar = function (char, line) {
  var character = this.alphabet[char];
  if (character) {
    if (character instanceof SingleLineChar) {
      return character.string;
    }
    return character.lines[line];
  }
  else {
    return char;
  }
}

Font.prototype.write = function (text, to) {
  to = to || console.log;
  to(this.render(text));
}



var alphabetString =
  "a=.-;b=-...;c=-.-.;d=-..;e=.;f=..-;g=--.;h=....;i=..;j=.---;k=-.-;l=.-..;" +
  "m=--;n=-.;o=---;p=.---.;q=--.-;r=.-.;s=...;t=-;u=..-;v=...-;w=.--;x=-..-;" +
  "y=-.-;z=--..; =;.=.-.-.-;,=--..--;?=..--..";

var chars = [];
var alphabet = alphabetString.split(";");

for (var i = 0; i < alphabet.length; i++) {
  var char = alphabet[i].split("=");
  chars.push(new SingleLineChar(char[0], char[1]));
}


var morse = new Font("morse", chars);
morse.write("JS sucks".toLowerCase());

var alphabetStringiso = ' @@   @   @   @   @   @   @   @   @   @   @   @@@A@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @  /::\\~\\:\\  \\ @ /:/\\:\\ \\:\\__\\@ \\/__\\:\\/:/  /@      \\::/  / @      /:/  /  @     /:/  /   @     \\/__/    @@@B@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @  /::\\~\\:\\__\\ @ /:/\\:\\ \\:|__|@ \\:\\~\\:\\/:/  /@  \\:\\ \\::/  / @   \\:\\/:/  /  @    \\::/__/   @     ~~       @@@C@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @  /:/  \\:\\  \\ @ /:/__/ \\:\\__\\@ \\:\\  \\  \\/__/@  \\:\\  \\      @   \\:\\  \\     @    \\:\\__\\    @     \\/__/    @@@D@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @  /:/  \\:\\__\\ @ /:/__/ \\:|__|@ \\:\\  \\ /:/  /@  \\:\\  /:/  / @   \\:\\/:/  /  @    \\::/__/   @     ~~       @@@E@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @  /::\\~\\:\\  \\ @ /:/\\:\\ \\:\\__\\@ \\:\\~\\:\\ \\/__/@  \\:\\ \\:\\__\\  @   \\:\\ \\/__/  @    \\:\\__\\    @     \\/__/    @@@F@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @  /::\\~\\:\\  \\ @ /:/\\:\\ \\:\\__\\@ \\/__\\:\\ \\/__/@      \\:\\__\\  @       \\/__/  @              @              @@@G@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @  /:/  \\:\\  \\ @ /:/__/_\\:\\__\\@ \\:\\  /\\ \\/__/@  \\:\\ \\:\\__\\  @   \\:\\/:/  /  @    \\::/  /   @     \\/__/    @@@H@@      ___     @     /\\__\\    @    /:/  /    @   /:/__/     @  /::\\  \\ ___ @ /:/\\:\\  /\\__\\@ \\/__\\:\\/:/  /@      \\::/  / @      /:/  /  @     /:/  /   @     \\/__/    @@@I@@            @      ___   @     /\\  \\  @     \\:\\  \\ @     /::\\__\\@  __/:/\\/__/@ /\\/:/  /   @ \\::/__/    @  \\:\\__\\    @   \\/__/    @            @@@J@@       ___   @      /\\  \\  @      \\:\\  \\ @  ___ /::\\__\\@ /\\  /:/\\/__/@ \\:\\/:/  /   @  \\::/  /    @   \\/__/     @             @             @             @@@K@@      ___     @     /\\__\\    @    /:/  /    @   /:/__/     @  /::\\__\\____ @ /:/\\:::::\\__\\@ \\/_|:|~~|~   @    |:|  |    @    |:|  |    @    |:|  |    @     \\|__|    @@@L@@      ___ @     /\\__\\@    /:/  /@   /:/  / @  /:/  /  @ /:/__/   @ \\:\\  \\   @  \\:\\  \\  @   \\:\\  \\ @    \\:\\__\\@     \\/__/@@@M@@      ___     @     /\\__\\    @    /::|  |   @   /:|:|  |   @  /:/|:|__|__ @ /:/ |::::\\__\\@ \\/__/~~/:/  /@       /:/  / @      /:/  /  @     /:/  /   @     \\/__/    @@@N@@      ___     @     /\\__\\    @    /::|  |   @   /:|:|  |   @  /:/|:|  |__ @ /:/ |:| /\\__\\@ \\/__|:|/:/  /@     |:/:/  / @     |::/  /  @     /:/  /   @     \\/__/    @@@O@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @  /:/  \\:\\  \\ @ /:/__/ \\:\\__\\@ \\:\\  \\ /:/  /@  \\:\\  /:/  / @   \\:\\/:/  /  @    \\::/  /   @     \\/__/    @@@P@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @  /::\\~\\:\\  \\ @ /:/\\:\\ \\:\\__\\@ \\/__\\:\\/:/  /@      \\::/  / @       \\/__/  @              @              @@@Q@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @   \\:\\~\\:\\  \\ @    \\:\\ \\:\\__\\@     \\:\\/:/  /@      \\::/  / @      /:/  /  @     /:/  /   @     \\/__/    @@@R@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\:\\  \\  @  /::\\~\\:\\  \\ @ /:/\\:\\ \\:\\__\\@ \\/_|::\\/:/  /@    |:|::/  / @    |:|\\/__/  @    |:|  |    @     \\|__|    @@@S@@      ___     @     /\\  \\    @    /::\\  \\   @   /:/\\ \\  \\  @  _\\:\\~\\ \\  \\ @ /\\ \\:\\ \\ \\__\\@ \\:\\ \\:\\ \\/__/@  \\:\\ \\:\\__\\  @   \\:\\/:/  /  @    \\::/  /   @     \\/__/    @@@T@@      ___     @     /\\  \\    @     \\:\\  \\   @      \\:\\  \\  @      /::\\  \\ @     /:/\\:\\__\\@    /:/  \\/__/@   /:/  /     @   \\/__/      @              @              @@@U@@      ___     @     /\\__\\    @    /:/  /    @   /:/  /     @  /:/  /  ___ @ /:/__/  /\\__\\@ \\:\\  \\ /:/  /@  \\:\\  /:/  / @   \\:\\/:/  /  @    \\::/  /   @     \\/__/    @@@V@@      ___     @     /\\__\\    @    /:/  /    @   /:/  /     @  /:/__/  ___ @  |:|  | /\\__\\@  |:|  |/:/  /@  |:|__/:/  / @   \\::::/__/  @    ~~~~      @              @@@W@@      ___     @     /\\__\\    @    /:/ _/_   @   /:/ /\\__\\  @  /:/ /:/ _/_ @ /:/_/:/ /\\__\\@ \\:\\/:/ /:/  /@  \\::/_/:/  / @   \\:\\/:/  /  @    \\::/  /   @     \\/__/    @@@X@@      ___     @     |\\__\\    @     |:|  |   @     |:|  |   @     |:|__|__ @ ____/::::\\__\\@ \\::::/~~/~   @  ~~|:|~~|    @    |:|  |    @    |:|  |    @     \\|__|    @@@Y@@      ___     @     |\\__\\    @     |:|  |   @     |:|  |   @     |:|__|__ @     /::::\\__\\@    /:/~~/~   @   /:/  /     @   \\/__/      @              @              @@@Z@@      ___     @     /\\  \\    @     \\:\\  \\   @      \\:\\  \\  @       \\:\\  \\ @ _______\\:\\__\\@ \\::::::::/__/@  \\:\\~~\\~~    @   \\:\\  \\     @    \\:\\__\\    @     \\/__/    ';


var chars = [];
var alphabet = alphabetStringiso.split("@@@");
for (var i = 0; i < alphabet.length; i++) {
  var char = alphabet[i].split("@@");
  chars.push(new MultiLineChar(char[0], char[1].split("@")));
}

var iso = new Font("iso", chars, 11);
iso.write("JS sucks".toUpperCase());


var alphabetStringDollar = ' @@    @    @    @    @    @    @    @    @    @    @    @    @@@A@@  ______  @ /      \\ @/$$$$$$  |@$$ |__$$ |@$$    $$ |@$$$$$$$$ |@$$ |  $$ |@$$ |  $$ |@$$/   $$/ @          @          @          @@@B@@ _______  @/       \\ @$$$$$$$  |@$$ |__$$ |@$$    $$< @$$$$$$$  |@$$ |__$$ |@$$    $$/ @$$$$$$$/  @          @          @          @@@C@@  ______  @ /      \\ @/$$$$$$  |@$$ |  $$/ @$$ |      @$$ |   __ @$$ \\__/  |@$$    $$/ @ $$$$$$/  @          @          @          @@@D@@ _______  @/       \\ @$$$$$$$  |@$$ |  $$ |@$$ |  $$ |@$$ |  $$ |@$$ |__$$ |@$$    $$/ @$$$$$$$/  @          @          @          @@@E@@ ________ @/        |@$$$$$$$$/ @$$ |__    @$$    |   @$$$$$/    @$$ |_____ @$$       |@$$$$$$$$/ @          @          @          @@@F@@ ________ @/        |@$$$$$$$$/ @$$ |__    @$$    |   @$$$$$/    @$$ |      @$$ |      @$$/       @          @          @          @@@G@@  ______  @ /      \\ @/$$$$$$  |@$$ | _$$/ @$$ |/    |@$$ |$$$$ |@$$ \\__$$ |@$$    $$/ @ $$$$$$/  @          @          @          @@@H@@ __    __ @/  |  /  |@$$ |  $$ |@$$ |__$$ |@$$    $$ |@$$$$$$$$ |@$$ |  $$ |@$$ |  $$ |@$$/   $$/ @          @          @          @@@I@@ ______ @/      |@$$$$$$/ @  $$ |  @  $$ |  @  $$ |  @ _$$ |_ @/ $$   |@$$$$$$/ @        @        @        @@@J@@    _____ @   /     |@   $$$$$ |@      $$ |@ __   $$ |@/  |  $$ |@$$ \\__$$ |@$$    $$/ @ $$$$$$/  @          @          @          @@@K@@ __    __ @/  |  /  |@$$ | /$$/ @$$ |/$$/  @$$  $$<   @$$$$$  \\  @$$ |$$  \\ @$$ | $$  |@$$/   $$/ @          @          @          @@@L@@ __       @/  |      @$$ |      @$$ |      @$$ |      @$$ |      @$$ |_____ @$$       |@$$$$$$$$/ @          @          @          @@@M@@ __       __ @/  \\     /  |@$$  \\   /$$ |@$$$  \\ /$$$ |@$$$$  /$$$$ |@$$ $$ $$/$$ |@$$ |$$$/ $$ |@$$ | $/  $$ |@$$/      $$/ @             @             @             @@@N@@ __    __ @/  \\  /  |@$$  \\ $$ |@$$$  \\$$ |@$$$$  $$ |@$$ $$ $$ |@$$ |$$$$ |@$$ | $$$ |@$$/   $$/ @          @          @          @@@O@@  ______  @ /      \\ @/$$$$$$  |@$$ |  $$ |@$$ |  $$ |@$$ |  $$ |@$$ \\__$$ |@$$    $$/ @ $$$$$$/  @          @          @          @@@P@@ _______  @/       \\ @$$$$$$$  |@$$ |__$$ |@$$    $$/ @$$$$$$$/  @$$ |      @$$ |      @$$/       @          @          @          @@@Q@@  ______  @ /      \\ @/$$$$$$  |@$$ |  $$ |@$$ |  $$ |@$$ |_ $$ |@$$ / \\$$ |@$$ $$ $$< @ $$$$$$  |@     $$$/ @          @          @@@R@@ _______  @/       \\ @$$$$$$$  |@$$ |__$$ |@$$    $$< @$$$$$$$  |@$$ |  $$ |@$$ |  $$ |@$$/   $$/ @          @          @          @@@S@@  ______  @ /      \\ @/$$$$$$  |@$$ \\__$$/ @$$      \\ @ $$$$$$  |@/  \\__$$ |@$$    $$/ @ $$$$$$/  @          @          @          @@@T@@ ________ @/        |@$$$$$$$$/ @   $$ |   @   $$ |   @   $$ |   @   $$ |   @   $$ |   @   $$/    @          @          @          @@@U@@ __    __ @/  |  /  |@$$ |  $$ |@$$ |  $$ |@$$ |  $$ |@$$ |  $$ |@$$ \\__$$ |@$$    $$/ @ $$$$$$/  @          @          @          @@@V@@ __     __ @/  |   /  |@$$ |   $$ |@$$ |   $$ |@$$  \\ /$$/ @ $$  /$$/  @  $$ $$/   @   $$$/    @    $/     @           @           @           @@@W@@ __       __ @/  |  _  /  |@$$ | / \\ $$ |@$$ |/$  \\$$ |@$$ /$$$  $$ |@$$ $$/$$ $$ |@$$$$/  $$$$ |@$$$/    $$$ |@$$/      $$/ @             @             @             @@@X@@ __    __ @/  |  /  |@$$ |  $$ |@$$  \\/$$/ @ $$  $$<  @  $$$$  \\ @ $$ /$$  |@$$ |  $$ |@$$/   $$/ @          @          @          @@@Y@@ __      __ @/  \\    /  |@$$  \\  /$$/ @ $$  \\/$$/  @  $$  $$/   @   $$$$/    @    $$ |    @    $$ |    @    $$/     @            @            @            @@@Z@@ ________ @/        |@$$$$$$$$/ @    /$$/  @   /$$/   @  /$$/    @ /$$/____ @/$$      |@$$$$$$$$/ @          @          @          @@@a@@          @          @  ______  @ /      \\ @ $$$$$$  |@ /    $$ |@/$$$$$$$ |@$$    $$ |@ $$$$$$$/ @          @          @          @@@b@@ __       @/  |      @$$ |____  @$$      \\ @$$$$$$$  |@$$ |  $$ |@$$ |__$$ |@$$    $$/ @$$$$$$$/  @          @          @          @@@c@@          @          @  _______ @ /       |@/$$$$$$$/ @$$ |      @$$ \\_____ @$$       |@ $$$$$$$/ @          @          @          @@@d@@       __ @      /  |@  ____$$ |@ /    $$ |@/$$$$$$$ |@$$ |  $$ |@$$ \\__$$ |@$$    $$ |@ $$$$$$$/ @          @          @          @@@e@@          @          @  ______  @ /      \\ @/$$$$$$  |@$$    $$ |@$$$$$$$$/ @$$       |@ $$$$$$$/ @          @          @          @@@f@@  ______  @ /      \\ @/$$$$$$  |@$$ |_ $$/ @$$   |    @$$$$/     @$$ |      @$$ |      @$$/       @          @          @          @@@g@@          @          @  ______  @ /      \\ @/$$$$$$  |@$$ |  $$ |@$$ \\__$$ |@$$    $$ |@ $$$$$$$ |@/  \\__$$ |@$$    $$/ @ $$$$$$/  @@@h@@ __       @/  |      @$$ |____  @$$      \\ @$$$$$$$  |@$$ |  $$ |@$$ |  $$ |@$$ |  $$ |@$$/   $$/ @          @          @          @@@i@@ __ @/  |@$$/ @/  |@$$ |@$$ |@$$ |@$$ |@$$/ @    @    @    @@@j@@          @          @       __ @      /  |@      $$/ @      /  |@      $$ |@      $$ |@ __   $$ |@/  \\__$$ |@$$    $$/ @ $$$$$$/  @@@k@@ __       @/  |      @$$ |   __ @$$ |  /  |@$$ |_/$$/ @$$   $$<  @$$$$$$  \\ @$$ | $$  |@$$/   $$/ @          @          @          @@@l@@ __ @/  |@$$ |@$$ |@$$ |@$$ |@$$ |@$$ |@$$/ @    @    @    @@@m@@              @              @ _____  ____  @/     \\/    \\ @$$$$$$ $$$$  |@$$ | $$ | $$ |@$$ | $$ | $$ |@$$ | $$ | $$ |@$$/  $$/  $$/ @              @              @              @@@n@@          @          @ _______  @/       \\ @$$$$$$$  |@$$ |  $$ |@$$ |  $$ |@$$ |  $$ |@$$/   $$/ @          @          @          @@@o@@          @          @  ______  @ /      \\ @/$$$$$$  |@$$ |  $$ |@$$ \\__$$ |@$$    $$/ @ $$$$$$/  @          @          @          @@@p@@          @          @  ______  @ /      \\ @/$$$$$$  |@$$ |  $$ |@$$ |__$$ |@$$    $$/ @$$$$$$$/  @$$ |      @$$ |      @$$/       @@@q@@          @          @  ______  @ /      \\ @/$$$$$$  |@$$ |  $$ |@$$ \\__$$ |@$$    $$ |@ $$$$$$$ |@      $$ |@      $$ |@      $$/ @@@r@@          @          @  ______  @ /      \\ @/$$$$$$  |@$$ |  $$/ @$$ |      @$$ |      @$$/       @          @          @          @@@s@@          @          @  _______ @ /       |@/$$$$$$$/ @$$      \\ @ $$$$$$  |@/     $$/ @$$$$$$$/  @          @          @          @@@t@@   __     @  /  |    @ _$$ |_   @/ $$   |  @$$$$$$/   @  $$ | __ @  $$ |/  |@  $$  $$/ @   $$$$/  @          @          @          @@@u@@          @          @ __    __ @/  |  /  |@$$ |  $$ |@$$ |  $$ |@$$ \\__$$ |@$$    $$/ @ $$$$$$/  @          @          @          @@@v@@           @           @ __     __ @/  \\   /  |@$$  \\ /$$/ @ $$  /$$/  @  $$ $$/   @   $$$/    @    $/     @           @           @           @@@w@@              @              @ __   __   __ @/  | /  | /  |@$$ | $$ | $$ |@$$ | $$ | $$ |@$$ \\_$$ \\_$$ |@$$   $$   $$/ @ $$$$$/$$$$/  @              @              @              @@@x@@          @          @ __    __ @/  \\  /  |@$$  \\/$$/ @ $$  $$<  @ /$$$$  \\ @/$$/ $$  |@$$/   $$/ @          @          @          @@@y@@          @          @ __    __ @/  |  /  |@$$ |  $$ |@$$ |  $$ |@$$ \\__$$ |@$$    $$ |@ $$$$$$$ |@/  \\__$$ |@$$    $$/ @ $$$$$$/  @@@z@@          @          @ ________ @/        |@$$$$$$$$/ @  /  $$/  @ /$$$$/__ @/$$      |@$$$$$$$$/ @          @          @          @@@.@@    @    @    @    @    @    @ __ @/  |@$$/ @    @    @    @@@!@@ __ @/  |@$$ |@$$ |@$$ |@$$/ @ __ @/  |@$$/ @    @    @    @@@?@@  ____  @ /    \\ @/$$$$  |@$$  $$ |@   /$$/ @  /$$/  @  $$/   @  /  |  @  $$/   @        @        @        ';


var chars = [];
var alphabet = alphabetStringDollar.split("@@@");
for (var i = 0; i < alphabet.length; i++) {
  var char = alphabet[i].split("@@");
  chars.push(new MultiLineChar(char[0], char[1].split("@")));
}

iso.write("abcdefghij".toUpperCase());
iso.write("klmnopqrst".toUpperCase());
iso.write("uvwxyz".toUpperCase());

var dollar = new Font("dollar", chars, 12);

dollar.write("JS sucks!");

dollar.write("abcdefghijklmnopqrstuvwxyz.?".toUpperCase());
dollar.write("abcdefghijklmnopqrstuvwxyz!");
